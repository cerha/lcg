2004-09-01  Tomas Cerha  <cerha@brailcom.org>

	* Makefile: Remove the html files before running the generator.
	Don't zip the package.  Export the `LCG_TTS_COMMAND' variable.

	* lcg/course.py (ContentNode.linear, ContentNode.next) 
	(ContentNode.prev): Docstring written.
	(ContentNode.index): New method.
	(ContentNode._node_path): New method.
	(ContentNode._id): New method.
	(ContentNode.id): Don't use the subdir to construct the id, use
	concatenating the hierarchy of `self._id()'.
	(ContentNode.full_title): Use `self._node_path()'.
	(ContentNode.counter): Docstring updated.
	(NumberedNode): Class removed.
	(Course.output_file): Method removed.
	(Unit): Inherit `InnerNode', not `NumberedNode'.
	(Unit._id): New method.
	(Unit.title): New method.
	(EurochanceCourse._create_children): Don't create the counter for
	counting NumberedNode's number.
	(ContentNode.__str__): Don't report the `output_file'.

2004-08-31  Tomas Cerha  <cerha@brailcom.org>

	* bin/generate.py: Use the `StaticExporter' to export the content.

	* lcg/__init__.py: Import also the  modules `export' a `ims'.

	* lcg/course.py: Module docstring updated.
	(ContentNode): Docstring updated.
	(ContentNode._export): Method removed.
	(full_title): Method removed.
	(ContentNode.content): New method.
	(export): Method removed.
	(Course): Docstring updated.
	(_export): Method removed.
	(Media._source_file): Renamed to `source_file()'.
	(Media._destination_file): Renamed to `destination_file()'.
	(Media.__init__, Media.url): Honour the change above.
	(Media.export): Method removed.
	(ContentNode.__str__): Report `subdir' instead of `src_dir'.
	(ContentNode.__str__): Use
	(ContentNode.linear): New method.
	(ContentNode.next): New method.
	(ContentNode.prev): New method.
	(ContentNode.subdir): New method.
	(ContentNode.dst_dir): Method removed.
	(ContentNode.src_dir): Construct the path out of root nodes
	`src_dir' and the `subdir'.
	(ContentNode.id): Make the id out of name and `subdir'.
	(ContentNode.full_title): New method.
	(ContentNode.meta): New method.
	(Course.output_file): Don't use `self.dst_path()'.
	(Media.shared_directory): Renamed to `SUBDIRECTORY'.
	(Media.source_file): `self.shared_directory' ->
	`self.SUBDIRECTORY'.
	(Media.destination_file): Put all media files into one directory,
	with a subdirectory for each node.
	(EurochanceCourse._create_children): New method.

	* lcg/ims.py (Manifest): Renamed to `_Manifest'. 
	(IMSExporter): New class.

	* lcg/export.py (Module): New module.
	(Exporter._full_title): Method removed.
	(Exporter._export_node): Put all files into the same directory.
	(Exporter._wrap_content): Use `node.full_title()' instead of
	`self._full_title()'.
	(Exporter._export_media): Don't take the `dir' argument.  Use
	`self._dir' instead.
	(StaticExporter._wrap_content): Print the doctype, meta
	information, title header and navigation.
	(StaticExporter._wrap_content): New method.
	(StaticExporter._wrap_content): New method.

2004-06-25  Tomas Cerha  <cerha@brailcom.org>

	* lcg/course.py (Media.export): Set the `cmd' to None first.

2004-06-24  Tomas Cerha  <cerha@brailcom.org>

	* lcg/course.py (Media.export): Use the LCG_TTS_COMMAND
	environment variable.  If not set, don't try to synthesize the text.

2004-06-23  Tomas Cerha  <cerha@brailcom.org>

	* Makefile: Set the `LCG_TTS_COMMAND' environment variable.

2004-05-21  Tomas Cerha  <cerha@brailcom.org>

	* doc/structure.wiki: Finished.

	* doc/manual.wiki: Finished.

2004-05-20  Tomas Cerha  <cerha@brailcom.org>

	* doc/manual.wiki: New file.

	* doc/structure.wiki: New file.

	* doc/roles.wiki: New file.

2004-05-14  Tomas Cerha  <cerha@brailcom.org>

	* lcg/util.py (SplittableText): New class.

	* lcg/_test.py (SplittableText): New set of tests.

	* lcg/feed.py: Import the Python module `traceback'.  Import `util'.
	All commented-out classes at the end of file removed.
	(Feeder.__init__): New method.
	(Feeder._input_file): New method.
	(PySpecFeeder): More documentation added.
	(PySpecFeeder._input_file): New method.
	(PySpecFeeder.__init__): Method removed.
	(PySpecFeeder._get_module): Use `self._file' instead of
	`self._name'.
	(ExcelVocabFeeder.__init__): Method removed.
	(ExcelVocabFeeder.feed): Use `self._input_file()'
	(ExerciseFeeder): New class.
	(ExerciseFeeder_PieceOfText): Removed.
	(ExerciseFeeder.feed): Use `SplittableText' instead of
	`self._PieceOfText'.
	(ExerciseFeeder._exercise, ExerciseFeeder._read_task): Use the
	`traceback' module for printing tracebacks instead of
	`code.InteractiveInterpreter'.
	(ExerciseFeeder._read_header): Docstring added.  Assertion message
	simplified.

	* lcg/course.py (ContentNode._read_resource): Don't use the language
	extension for filenames.
	(Module): Class removed.
	(Exercises._create_content): Use `ExerciseFeeder' instead of
	`PySpecFeeder'.
	(Unit._create_children): Act as the removed `Module' node
	according to course structure changes.
	(EurochanceCourse): Documentation updated.
	(EurochanceCourse._create_children): Create just a sequence of `Unit's.

	* lcg/content.py (Exercise.__init__): Report the actual `tasks' value
	in assertion error message..
	(Exercise.task_type): New method.
	(ComprehensionExercise.__init__): Method removed.
	(ClozeTest.__init__): Method removed.
	(ClozeTest._task_type): Set.
	(Container.__init__, GenericText.__init__, VocabList.__init__)
	(MultipleChoiceQuestion.__init__, Cloze.__init__)
	(Exercise.__init__, ComprehensionExercise.__init__): Call parent
	constructor prior to everyting else.

	* lcg/__init__.py: Update globals for module `feed' as well.

2004-05-04  Tomas Cerha  <cerha@brailcom.org>

	* lcg/_test.py (ContentNode.check_misc): Check also the methods
	`counter()', `id()' and `children()'.

	* lcg/course.py (ContentNode._create_content) 
	(ContentNode._create_children): More documentation added.
	(ContentNode._register_child): New method.
	(ContentNode.__init__): Use it.
	(Course): Docstring improved.
	(ContentNode._create_children): Docstring improved.
	(ContentNode._create_content): Docstring improved.
	(ContentNode): Docstring improved.

2004-05-03  Tomas Cerha  <cerha@brailcom.org>

	* lcg/_test.py (Module): Import `lcg' and `os', not `lesson'.
	(ContentNode): New class
	(Client): Class removed.
	

	* lcg/course.py (Module): Code reorganized to separate the general
	classes from the classes implementing concrete Eurochance Course
	structure.
	(EurochanceCourse): New class.
	(Course._create_children): Method moved to the new
	`EurochanceCourse' class.
	(Course.__init__): Unused argument `lang' removed.
	(NumberedNode.__init__, Course.__init__): Use `super()' to call
	the constructor of parent class.
	(ContentNode.src_dir): Return just the subdir if parent is None.
	(ContentNode.dst_dir): Return just the subdir if parent is None.
	(Course.output_file): New method.
	(dst_dir): Method removed.

	* lcg/util.py (list_subdirs): Ignore `CVS' directories.

	* Makefile: New target `test'.

	* bin/generate.py: Use `EurochanceCourse' instead of `Course'.
	Don't use the `lang' argument.

